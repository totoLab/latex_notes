# PDF to LaTeX Pipeline Configuration
# This file shows how to configure the pipeline for PRODUCTION mode using Gemini API

# Pipeline settings
pipeline:
  output_dir: "output"  # Output directory for all generated files
  section_prefix: "notes"  # Prefix for LaTeX section files
  doc_title: "My Converted Handwritten Notes"
  resume: true  # Resume from checkpoint if available
  compile_and_fix: true  # Compile and fix LaTeX errors after each page

# PDF to Image converter settings
converters:
  pdf:
    dpi: 300  # Resolution for image extraction
    enable_diff_check: true  # Detect changes in existing images
  
  # Image to LaTeX converter settings
  image_to_latex:
    # Set type to one of: 'gemini', 'openai', 'anthropic', 'dummy'
    type: "gemini"
    api_key_env: "GEMINI_API_KEY"  # Environment variable name for API key
    model: "gemini-2.5-pro"

    # Retry and timeout settings
    max_retries: 3
    timeout: 240  # seconds
    retry_delay: 5  # seconds (exponential backoff)
    
    # Rate limiting (requests per minute)
    rate_limit:
      max_requests: 4  # Conservative rate limit for API
      time_window: 60  # seconds
  
  # LaTeX error fixer settings
  latex_error_fixer:
    enabled: true  # Enable/disable error fixing
    type: "gemini"  # AI service to use: 'gemini', 'openai', 'anthropic'
    api_key_env: "GEMINI_API_KEY"  # Environment variable for API key
    model: "gemini-2.0-flash-exp"  # Model to use for fixing errors
    max_retries: 3
    retry_delay: 5
    max_fix_attempts: 5  # Maximum attempts to fix compilation errors per page

# LaTeX compiler settings
latex_compiler:
  compiler: "xelatex"  # LaTeX compiler: 'xelatex', 'pdflatex', 'lualatex'
  clean_aux: true  # Clean auxiliary files after successful compilation

